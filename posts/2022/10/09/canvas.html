<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>canvas学习 | TheOtherOne</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="TheOtherOne_小韩的blog">
    <meta rel="author" content="TheOtherOne">
    <meta rel="keywords" content="TheOtherOne">
    
    <link rel="preload" href="/docs/assets/css/0.styles.4fea7ec8.css" as="style"><link rel="preload" href="/docs/assets/js/app.379f41b2.js" as="script"><link rel="preload" href="/docs/assets/js/6.d6a78384.js" as="script"><link rel="preload" href="/docs/assets/js/7.58525a04.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.d4619aef.js"><link rel="prefetch" href="/docs/assets/js/11.090f5da8.js"><link rel="prefetch" href="/docs/assets/js/12.f2913fcc.js"><link rel="prefetch" href="/docs/assets/js/2.8890bcab.js"><link rel="prefetch" href="/docs/assets/js/3.6908d967.js"><link rel="prefetch" href="/docs/assets/js/4.c9de972d.js"><link rel="prefetch" href="/docs/assets/js/5.ab961c95.js"><link rel="prefetch" href="/docs/assets/js/8.66bfb0c0.js"><link rel="prefetch" href="/docs/assets/js/9.6b16ef0b.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.4fea7ec8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout" data-v-7f2e4136><header class="header-container" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/bg1.png);" data-v-93921ff8 data-v-7f2e4136><nav class="navbar" style="position:absolute;opacity:1;transition:all 0.5s ease-in-out;" data-v-93921ff8><a href="/docs/" class="navbar-link router-link-active">
    TheOtherOne
  </a> <ul class="navbar-links"><li><a href="/docs/" class="router-link-active">
        Home
      </a></li><li><a href="/docs/about/">
        About
      </a></li><li><a href="/docs/tags/">
        Tags
      </a></li></ul> <div id="nav-icon"><span></span><span></span><span></span></div></nav> <div class="header-title" data-v-93921ff8 data-v-93921ff8><h1 data-v-93921ff8>canvas学习</h1> <p data-v-93921ff8></p></div></header> <div class="container" data-v-b3fda33c data-v-7f2e4136><main class="main" style="width:60%;" data-v-b3fda33c><div class="post" data-v-b3fda33c data-v-b3fda33c><article class="main-div"><div class="post-content content content__default"><h1 id="html-canvas-学习记录"><a href="#html-canvas-学习记录" class="header-anchor">#</a> HTML canvas 学习记录</h1> <p>简介：<code>&lt;canvas&gt;</code> 是 <code>HTML5</code> 新增的，一个可以使用脚本(通常为 <code>JavaScript</code>) 在其中绘制图像的 <code>HTML</code> 元素。它可以用来制作照片集或者制作简单(也不是那么简单)的动画，甚至可以进行实时视频处理和渲染。<code>Canvas</code> 是由 <code>HTML</code> 代码配合高度和宽度属性而定义出的可绘制区域。<code>JavaScript</code> 代码可以访问该区域，类似于其他通用的二维 <code>API</code>，通过一套完整的绘图函数来动态生成图形。</p> <h2 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h2> <h3 id="创建画布"><a href="#创建画布" class="header-anchor">#</a> 创建画布</h3> <p>通过canvas标签来绘制画布，通常需要指定一个id属性 (脚本中经常引用), width 和 height 属性定义画布的大小。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myCanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="渲染上下文"><a href="#渲染上下文" class="header-anchor">#</a> 渲染上下文</h3> <p>找到canvas元素，获取2d渲染上下文对象，getContext(&quot;2d&quot;) 对象是内建的 HTML5 对象，拥有多种绘制路径、矩形、圆形、字符以及添加图像的方法。</p> <p>canvas是画布，那么ctx就是画笔。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
<span class="token comment">//获取2d渲染上下文对象</span>
<span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="支持性"><a href="#支持性" class="header-anchor">#</a> 支持性</h3> <p>由于某些较老的浏览器（尤其是 IE9 之前的 IE 浏览器）或者浏览器不支持 HTML 元素 <code>&lt;canvas&gt;</code>，我们需要在标签内写上替代内容，</p> <p>支持 <code>&lt;canvas&gt;</code> 的浏览器会只渲染 <code>&lt;canvas&gt;</code> 标签，而忽略其中的替代内容。不支持 <code>&lt;canvas&gt;</code> 的浏览器则 会直接渲染替代内容。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;myCanvas&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;200&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;100&quot;</span><span class="token operator">&gt;</span>浏览器不支持<span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
</code></pre></div><p>js代码中检测支持性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myCanvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 支持操作</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// 不支持操作</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="示例代码"><a href="#示例代码" class="header-anchor">#</a> 示例代码</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;myCanvas&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300&quot;</span><span class="token operator">&gt;</span>浏览器不支持<span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myCanvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//开始代码</span>
    
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="栅格和坐标空间"><a href="#栅格和坐标空间" class="header-anchor">#</a> 栅格和坐标空间</h2> <p><code>canvas</code> 元素默认被网格所覆盖。通常来说网格中的一个单元相当于 <code>canvas</code> 元素中的一像素。栅格的起点为左上角，坐标为 (0,0) 。所有元素的位置都相对于原点来定位。所以图中蓝色方形左上角的坐标为距离左边（X 轴）x 像素，距离上边（Y 轴）y 像素，坐标为 (x,y)。</p> <p><img src="https://www.runoob.com/wp-content/uploads/2018/12/Canvas_default_grid.png" alt="img"></p> <h2 id="绘制形状"><a href="#绘制形状" class="header-anchor">#</a> 绘制形状</h2> <p><code>&lt;canvas&gt;</code> 只支持一种原生的图形绘制：<strong>矩形</strong>。所有其他图形都需要通过生成路径 (<code>path</code>)的方式来绘制。不过，我们拥有众多路径生成的方法让复杂图形的绘制成为了可能。</p> <p>canvas 提供了三种方法绘制矩形：</p> <ul><li><strong>fillRect(x, y, width, height)</strong>：绘制一个填充的矩形。</li> <li><strong>strokeRect(x, y, width, height)</strong>：绘制一个矩形的边框。</li> <li><strong>clearRect(x, y, width, height)</strong>：清除指定的矩形区域，然后这块区域会变的完全透明。</li></ul> <p>参数说明：x，y指的是矩形的左上角的坐标，width，height指的是绘制的矩形的宽度和高度</p> <p>css:</p> <div class="language-css extra-class"><pre class="language-css"><code>  <span class="token selector">&lt;style&gt;
    #mycanvas</span> <span class="token punctuation">{</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ff6600<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  &lt;/style&gt;
</code></pre></div><p>html:</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mycanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>浏览器不支持<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>js:</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//绘制一个填充的矩形</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
      <span class="token comment">//绘制一个矩形边框</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
      <span class="token comment">//清除指定的矩形区域，清除的区域或变得完全透明</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：<code>canvas</code> 元素默认被网格所覆盖。通常来说网格中的一个单元相当于 <code>canvas</code> 元素中的一像素。栅格的起点为左上角，坐标为 (0,0) 。所有元素的位置都相对于原点来定位。所以图中蓝色方形左上角的坐标为距离左边（X 轴）x 像素，距离上边（Y 轴）y 像素，坐标为 (x,y)。</p> <p><img src="https://www.runoob.com/wp-content/uploads/2018/12/Canvas_default_grid.png" alt="img"></p> <h2 id="绘制形状-2"><a href="#绘制形状-2" class="header-anchor">#</a> 绘制形状</h2> <p><code>&lt;canvas&gt;</code> 只支持一种原生的图形绘制：<strong>矩形</strong>。所有其他图形都需要通过生成路径 (<code>path</code>)的方式来绘制。不过，我们拥有众多路径生成的方法让复杂图形的绘制成为了可能。</p> <p>canvas 提供了三种方法绘制矩形：</p> <ul><li><strong>fillRect(x, y, width, height)</strong>：绘制一个填充的矩形。</li> <li><strong>strokeRect(x, y, width, height)</strong>：绘制一个矩形的边框。</li> <li><strong>clearRect(x, y, width, height)</strong>：清除指定的矩形区域，然后这块区域会变的完全透明。</li></ul> <p>参数说明：x，y指的是矩形的左上角的坐标，width，height指的是绘制的矩形的宽度和高度</p> <p>css:</p> <div class="language-css extra-class"><pre class="language-css"><code>  <span class="token selector">&lt;style&gt;
    #mycanvas</span> <span class="token punctuation">{</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ff6600<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  &lt;/style&gt;
</code></pre></div><p>html:</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mycanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>浏览器不支持<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>js:</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//绘制一个填充的矩形</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
      <span class="token comment">//绘制一个矩形边框</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
      <span class="token comment">//清除指定的矩形区域，清除的区域或变得完全透明</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929110135113.png" alt="image-20220929110135113"></p> <h2 id="绘制路径"><a href="#绘制路径" class="header-anchor">#</a> 绘制路径</h2> <p>图形的基本元素是路径。路径是通过不同颜色和宽度的线段或曲线相连形成的不同形状的点的集合。</p> <p>一个路径，甚至一个子路径，都是闭合的。</p> <p>使用路径绘制图形需要一些额外的步骤：</p> <ol><li>创建路径起始点</li> <li>调用绘制方法去绘制出路径</li> <li>把路径封闭</li> <li>一旦路径生成，通过描边或填充路径区域来渲染图形。</li></ol> <p>下面是需要用到的方法：</p> <ol><li><code>beginPath()</code>：新建一条路径，路径一旦创建成功，图形绘制命令被指向到路径上生成路径</li> <li><code>moveTo(x, y)</code>：把画笔移动到指定的坐标<code>(x, y)</code>。相当于设置路径的起始点坐标</li> <li><code>lineTo(x,y)</code>：绘制一条从当前画笔位置到指定坐标<code>(x, y)</code>的直线</li> <li><code>closePath()</code>：闭合路径之后，图形绘制命令又重新指向到上下文中</li> <li><code>stroke()</code>：通过线条来绘制图形轮廓</li> <li><code>fill()</code>：通过填充路径的内容区域生成实心的图形</li></ol> <h3 id="绘制线段"><a href="#绘制线段" class="header-anchor">#</a> 绘制线段</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//新建一条路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//将画笔移动到指定的坐标(10,10)，相当于设置路径的起始点坐标</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment">//绘制一条从当前位置到指定坐标(100, 100)的直线.</span>
      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//闭合路径。会拉一条从当前点到path起始点的直线。如果当前点与起始点重合，则什么都不做</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//绘制路径</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="E:%5CDesktop%5C2.png" alt="image-20220929113328518"></p> <h3 id="绘制三角形边框"><a href="#绘制三角形边框" class="header-anchor">#</a> 绘制三角形边框</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//新建一条路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//将画笔移动到指定的坐标(10,10)，相当于设置路径的起始点坐标</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//绘制三角形的一条边</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">110</span><span class="token punctuation">)</span>  <span class="token comment">//绘制另一条边</span>
      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//闭合路径。会拉一条从当前点到path起始点的直线。如果当前点与起始点重合，则什么都不做</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//绘制路径</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929113641296.png" alt="image-20220929113641296"></p> <h3 id="绘制填充三角形"><a href="#绘制填充三角形" class="header-anchor">#</a> 绘制填充三角形</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//新建一条路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//将画笔移动到指定的坐标(10,10)，相当于设置路径的起始点坐标</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//绘制三角形的一条边</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">110</span><span class="token punctuation">)</span>  <span class="token comment">//绘制另一条边</span>
      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//闭合路径。会拉一条从当前点到path起始点的直线。如果当前点与起始点重合，则什么都不做</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//填充路径的内容区域</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929113829622.png" alt="image-20220929113829622"></p> <h3 id="绘制圆弧"><a href="#绘制圆弧" class="header-anchor">#</a> 绘制圆弧</h3> <p>有两个方法可以绘制圆弧：</p> <ol><li><p><strong>arc(x, y, r, startAngle, endAngle, anticlockwise)</strong>: 以<code>(x, y)</code> 为圆心，以<code>r</code> 为半径，从 <code>startAngle</code> 弧度开始到<code>endAngle</code>弧度结束。<code>anticlosewise</code> 是布尔值，<code>true</code> 表示逆时针，<code>false</code> 表示顺时针(默认是顺时针)。</p> <p>注意：这里的度数都是弧度。0<code>弧度是指的</code>x` 轴正方向。</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929154414269.png" alt="image-20220929154414269"></p></li> <li><p><strong>arcTo(x1, y1, x2, y2, radius)</strong>: <code>x1，y1</code>：控制点1坐标   <code>x2，y2</code>：控制点2坐标  <code>radius</code>：圆弧半径。</p> <p>arcTo()方法将利用当前点（当前画笔位置）、控制点1(x1,y1)和控制点2(x2,y2)这三个点所形成的夹角，然后绘制一段与夹角的两边相切并且半径为radius的圆上的弧线。此外，如果当前端点不是弧线起点，arcTo()方法还将添加一条当前端点到弧线起点的直线线段。</p></li></ol> <h4 id="arc方法绘制圆弧"><a href="#arc方法绘制圆弧" class="header-anchor">#</a> arc方法绘制圆弧</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//新建一条路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">1.5</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">1.5</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//闭合路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//填充路径区域</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929153922432.png" alt="image-20220929153922432"></p> <h4 id="arcto方法绘制圆弧"><a href="#arcto方法绘制圆弧" class="header-anchor">#</a> arcTo方法绘制圆弧</h4> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>

      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929172111513.png" alt="image-20220929172111513"></p> <h3 id="绘制贝塞尔曲线"><a href="#绘制贝塞尔曲线" class="header-anchor">#</a> 绘制贝塞尔曲线</h3> <p>待补充。。。。。。</p> <h2 id="添加样式"><a href="#添加样式" class="header-anchor">#</a> 添加样式</h2> <h3 id="颜色、样式、阴影"><a href="#颜色、样式、阴影" class="header-anchor">#</a> 颜色、样式、阴影</h3> <p>在前面的绘制矩形章节中，只用到了默认的线条和颜色。如果想要给图形上色，有两个重要的属性可以做到。</p> <ol><li><code>fillStyle</code>：设置或返回用于填充绘画的颜色、渐变或模式</li> <li><code>strokeStyle</code>：设置或返回用于笔触的颜色、渐变或模式。</li> <li><code>shadowColor</code>：设置或返回用于阴影的颜色。</li> <li><code>shadowBlur</code>：设置或返回用于阴影的模糊级别。</li> <li><code>shadowOffsetX</code>：设置或返回阴影与形状的水平距离。</li> <li><code>shadowOffsetY</code>：设置或返回阴影与形状的水平距离。</li></ol> <p>注意： 一旦设置了 strokeStyle 或者 fillStyle 的值，那么这个新值就会成为新绘制的图形的默认值。如果你要给每个图形上不同的颜色，你需要重新设置 fillStyle 或 strokeStyle 的值。</p> <h4 id="fillstyle设置填充颜色、渐变或模式"><a href="#fillstyle设置填充颜色、渐变或模式" class="header-anchor">#</a> fillStyle设置填充颜色、渐变或模式</h4> <h5 id="fillstyle设置颜色"><a href="#fillstyle设置颜色" class="header-anchor">#</a> fillStyle设置颜色</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#ff6600'</span>  <span class="token comment">//设置填充颜色</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面样式：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929175118596.png" alt="image-20220929175118596"></p> <h5 id="fillstyle设置渐变"><a href="#fillstyle设置渐变" class="header-anchor">#</a> fillStyle设置渐变</h5> <p><code>createLinearGradient()</code> 方法创建线性的渐变对象。该方法接收四个参数，分别为x0：渐变开始点的x坐标，y0：渐变开始点的y坐标，x1：渐变结束点的x坐标，y1：渐变结束点的y坐标。</p> <p><code>createRadialGradient()</code>方法创建放射状/圆形渐变对象。该方法接收四个参数，分别为x0：渐变的开始圆的x坐标，y0：渐变的开始圆的y坐标，R0：开始圆的半径，x1：渐变的结束圆的x坐标，y1：渐变的结束圆的y坐标。R1：结束圆的半径。</p> <p>渐变可用于填充矩形、圆形、线条、文本等等。</p> <p><code>addColorStop()</code>方法规定渐变对象中的颜色和位置。该方法接收两个参数分别为 stop：介于 0.0 与 1.0 之间的值，表示渐变中开始与结束之间的位置。color：在 <em>stop</em> 位置显示的颜色值。</p> <p>线性渐变：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//******************************************线性渐变*******************************</span>
      <span class="token comment">//横向渐变</span>
      <span class="token keyword">let</span> myGradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//创建线性的渐变对象</span>
      myGradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#ffffff'</span><span class="token punctuation">)</span>  <span class="token comment">//设置渐变对象中起始位置颜色为#ffffff。</span>
      myGradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#ff6600'</span><span class="token punctuation">)</span>  <span class="token comment">//设置渐变对象中终止位置颜色为#ff6600。</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> myGradient  <span class="token comment">//给fillStyle设置渐变对象</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

      <span class="token comment">//纵向渐变</span>
      <span class="token keyword">let</span> myGradient1 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span>
      myGradient1<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#006600'</span><span class="token punctuation">)</span>
      myGradient1<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#ffffff'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> myGradient1
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

      <span class="token keyword">let</span> myGradient2 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token string">&quot;magenta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> myGradient2<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929181305006.png" alt="image-20220929181305006"></p> <p>放射性渐变：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//******************************************放射性渐变*******************************</span>
      <span class="token keyword">var</span> grd <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff6600&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> grd<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929181918052.png" alt="image-20220929181918052"></p> <h5 id="fillstyle设置填充绘图"><a href="#fillstyle设置填充绘图" class="header-anchor">#</a> fillStyle设置填充绘图</h5> <p><code>createPattern()</code> 方法在指定的方向内重复指定的元素,元素可以是图片、视频，或者其他canvas元素。该方法接收两个参数分别为：image：规定要使用的模式的图片、画布或视频元素，填充方式：可选值为repeat|repeat-x|repeat-y|no-repeat。</p> <p>待补充。。。。。。</p> <h4 id="strokestyle设置轮廓颜色、渐变或模式"><a href="#strokestyle设置轮廓颜色、渐变或模式" class="header-anchor">#</a> strokeStyle设置轮廓颜色、渐变或模式</h4> <h5 id="strokestyle设置颜色"><a href="#strokestyle设置颜色" class="header-anchor">#</a> strokeStyle设置颜色</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#ff6600'</span>  <span class="token comment">//设置填充颜色</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面样式：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929184652253.png" alt="image-20220929184652253"></p> <h5 id="strokestyle设置渐变"><a href="#strokestyle设置渐变" class="header-anchor">#</a> strokeStyle设置渐变</h5> <p>线性渐变：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//******************************************线性渐变*******************************</span>
      <span class="token comment">//横向渐变</span>
      <span class="token keyword">let</span> myGradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">//创建线性的渐变对象</span>
      myGradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#ffffff'</span><span class="token punctuation">)</span>  <span class="token comment">//设置渐变对象中起始位置颜色为#ffffff。</span>
      myGradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#ff6600'</span><span class="token punctuation">)</span>  <span class="token comment">//设置渐变对象中终止位置颜色为#ff6600。</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> myGradient  <span class="token comment">//给strokeStyle设置渐变对象</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

      <span class="token comment">//纵向渐变</span>
      <span class="token keyword">let</span> myGradient1 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span>
      myGradient1<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#006600'</span><span class="token punctuation">)</span>
      myGradient1<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#ffffff'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> myGradient1
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

      <span class="token keyword">let</span> myGradient2 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token string">&quot;magenta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      myGradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> myGradient2<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929184925164.png" alt="image-20220929184925164"></p> <p>放射性渐变：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      <span class="token comment">//******************************************放射性渐变*******************************</span>
      <span class="token keyword">var</span> grd <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff6600&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> grd<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929185211266.png" alt="image-20220929185211266"></p> <h4 id="shadow设置阴影样式"><a href="#shadow设置阴影样式" class="header-anchor">#</a> shadow设置阴影样式</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment">//设置阴影模糊级别</span>
      ctx<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token string">'#555555'</span> <span class="token comment">//设置阴影颜色</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#ff6600'</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      
      ctx<span class="token punctuation">.</span>shadowOffsetX <span class="token operator">=</span> <span class="token number">20</span>  <span class="token comment">//设置阴影与形状的水平距离。</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span>shadowOffsetX <span class="token operator">=</span> <span class="token number">0</span>
      ctx<span class="token punctuation">.</span>shadowOffsetY <span class="token operator">=</span> <span class="token number">20</span>  <span class="token comment">////设置阴影与形状的垂直距离。</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面样式：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220929190239770.png" alt="image-20220929190239770"></p> <h3 id="线条样式"><a href="#线条样式" class="header-anchor">#</a> 线条样式</h3> <h4 id="linewidth设置线条的宽度"><a href="#linewidth设置线条的宽度" class="header-anchor">#</a> lineWidth设置线条的宽度</h4> <p>注意：起始点和终点的连线为中心，上下各占线宽的一半。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment">//设置线宽度</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>  
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>   <span class="token comment">//起始点和终点的连线为中心，上下各占线宽的一半。</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930101427079.png" alt="image-20220930101427079"></p> <h4 id="linecap设置线条的结束端点样式"><a href="#linecap设置线条的结束端点样式" class="header-anchor">#</a> lineCap设置线条的结束端点样式</h4> <p>该属性有三个可选值：<code>butt</code>：线段末端以方形结束（默认），<code>round</code>：线段末端以圆形结束，<code>square</code>：线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
      ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'butt'</span>  <span class="token comment">//向线条的末端添加平直的边缘</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>   <span class="token comment">//向线条的末端添加圆形线帽。</span>
      ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'round'</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
      ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'square'</span>  <span class="token comment">//向线条的末端添加宽度与线段相同，高度是线宽一半的正方形线帽。</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930102903664.png" alt="image-20220930102903664"></p> <h4 id="linejoin设置两条线相交时-所创建的拐角类型。"><a href="#linejoin设置两条线相交时-所创建的拐角类型。" class="header-anchor">#</a> lineJoin设置两条线相交时，所创建的拐角类型。</h4> <p>同一个 path 内，设定线条与线条间接合处的样式。共有 3 个值<code>round</code>： 通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状，圆角的半径是线段的宽度。<code>bevel</code> 在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角。<code>miter</code>(默认) 通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

      <span class="token keyword">var</span> lineJoin <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'round'</span><span class="token punctuation">,</span> <span class="token string">'bevel'</span><span class="token punctuation">,</span> <span class="token string">'miter'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lineJoin<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> lineJoin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930103411575.png" alt="image-20220930103411575"></p> <h4 id="设置虚线"><a href="#设置虚线" class="header-anchor">#</a> 设置虚线</h4> <p>用 <code>setLineDash</code> 方法和 <code>lineDashOffset</code> 属性来制定虚线样式。 <code>setLineDash</code> 方法接受一个数组 [实线长度, 间隙长度]，来指定线段与间隙的交替；<code>lineDashOffset</code>属性设置起始偏移量。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//设置虚线线段长度与间隙长度</span>
      ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment">//设置虚线起始偏移量</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>

      ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">20</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930104232992.png" alt="image-20220930104232992"></p> <h2 id="绘制文本"><a href="#绘制文本" class="header-anchor">#</a> 绘制文本</h2> <p>canvas 提供了两种方法来渲染文本:</p> <ol><li><code>fillText(text, x, y [, maxWidth])</code> 在指定的 (x,y) 位置填充指定的文本，绘制的最大宽度是可选的。</li> <li><code>strokeText(text, x, y [, maxWidth])</code> 在指定的 (x,y) 位置绘制文本边框，绘制的最大宽度是可选的。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'50px Arial'</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'UINO'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment">//绘制填充文本</span>

      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'80px sans-serif'</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'UINO'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span>  <span class="token comment">//绘制无填充文本</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930110612551.png" alt="image-20220930110612551"></p> <h2 id="添加文本样式"><a href="#添加文本样式" class="header-anchor">#</a> 添加文本样式</h2> <ol><li><p><code>font = value</code> 当前我们用来绘制文本的样式。这个字符串使用和 <code>CSS font</code> 属性相同的语法。 默认的字体是 <code>10px sans-serif</code>。</p></li> <li><p><code>textAlign = value</code> 文本对齐选项。 可选的值包括：<code>start</code>, <code>end</code>, <code>left</code>, <code>right</code> or <code>center</code>。 默认值是 <code>start</code>。</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930112229431.png" alt="image-20220930112229431"></p></li> <li><p><code>textBaseline = value</code> 基线对齐选项，可选的值包括：<code>top</code>, <code>hanging</code>, <code>middle</code>, <code>alphabetic</code>, <code>ideographic</code>, <code>bottom</code>。默认值是 <code>alphabetic。</code>。</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930112211300.png" alt="image-20220930112211300"></p></li> <li><p><code>direction = value</code> 文本方向。可能的值包括：<code>ltr</code>, <code>rtl</code>, <code>inherit</code>。默认值是 <code>inherit</code>。</p> <p>注意：chrome浏览器不支持该属性</p></li></ol> <h2 id="绘制图片"><a href="#绘制图片" class="header-anchor">#</a> 绘制图片</h2> <h3 id="创建图片"><a href="#创建图片" class="header-anchor">#</a> 创建图片</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'./images/lamp.png'</span>
</code></pre></div><h3 id="绘制img"><a href="#绘制img" class="header-anchor">#</a> 绘制img</h3> <p>drawImage() 方法在画布上绘制图像、画布或视频,也能够绘制图像的某些部分，以及增加或减少图像的尺寸。</p> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">描述</th> <th></th></tr></thead> <tbody><tr><td style="text-align:left;"><em>img</em></td> <td style="text-align:left;">规定要使用的图像、画布或视频。</td> <td></td></tr> <tr><td style="text-align:left;"><em>sx</em></td> <td style="text-align:left;">可选。开始剪切的 x 坐标位置。</td> <td></td></tr> <tr><td style="text-align:left;"><em>sy</em></td> <td style="text-align:left;">可选。开始剪切的 y 坐标位置。</td> <td></td></tr> <tr><td style="text-align:left;"><em>swidth</em></td> <td style="text-align:left;">可选。被剪切图像的宽度。</td> <td></td></tr> <tr><td style="text-align:left;"><em>sheight</em></td> <td style="text-align:left;">可选。被剪切图像的高度。</td> <td></td></tr> <tr><td style="text-align:left;"><em>x</em></td> <td style="text-align:left;">在画布上放置图像的 x 坐标位置。</td> <td></td></tr> <tr><td style="text-align:left;"><em>y</em></td> <td style="text-align:left;">在画布上放置图像的 y 坐标位置。</td> <td></td></tr> <tr><td style="text-align:left;"><em>width</em></td> <td style="text-align:left;">可选。要使用的图像的宽度（伸展或缩小图像）。</td> <td></td></tr> <tr><td style="text-align:left;"><em>height</em></td> <td style="text-align:left;">可选。要使用的图像的高度（伸展或缩小图像）。</td> <td></td></tr></tbody></table> <p><strong>注意</strong>：考虑到图片是从网络加载，如果 <code>drawImage</code> 的时候图片还没有完全加载完成，则什么都不做，个别浏览器会抛异常。所以我们应该保证在 <code>img</code> 绘制完成之后再 <code>drawImage</code>。</p> <h4 id="缩放图片"><a href="#缩放图片" class="header-anchor">#</a> 缩放图片</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myCanvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建图片</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;./images/emoji.png&quot;</span>
    <span class="token comment">//图片加载完成后再绘制图片</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//0,0代表再0,0点绘制图片，100,200代表图像的宽高为200</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930161952235.png" alt="image-20220930161952235"></p> <p>img可以 <code>new</code> 也可以来源于我们页面的 <code>&lt;img&gt;</code>标签。</p> <p>HTML:</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/lamp.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myimg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mycanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>js:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myimg'</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930163225429.png" alt="image-20220930163225429"></p> <h4 id="裁剪图片"><a href="#裁剪图片" class="header-anchor">#</a> 裁剪图片</h4> <div class="language-js\ extra-class"><pre class="language-text"><code>var canvas = document.getElementById(&quot;myCanvas&quot;);
    var ctx = canvas.getContext(&quot;2d&quot;);
    //创建图片
    var img = new Image()
    img.src = &quot;./images/emoji.png&quot;
    //图片加载完成后再绘制图片
    img.onload = function () {
      //再200，200位置上裁剪宽高为500的图片，再0，0位置上绘制图片，缩放为200宽高的图片
      ctx.drawImage(img, 200,200,500,500,0, 0, 200, 200);  
    }
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930172415519.png" alt="image-20220930172415519"></p> <h2 id="状态的保存与恢复"><a href="#状态的保存与恢复" class="header-anchor">#</a> 状态的保存与恢复</h2> <ol><li><p><code>save()</code> 和 <code>restore()</code>是绘制复杂图形时必不可少的操作。</p></li> <li><p><code>save</code> 和 <code>restore</code> 方法是用来保存和恢复 <code>canvas</code> 状态的，都没有参数。</p></li> <li><p><code>Canvas</code> 的状态就是当前画面应用的所有样式和变形的一个快照。</p></li> <li><p>一个绘画状态包括：</p></li> <li><ul><li>当前应用的变形（即移动，旋转和缩放）</li> <li><code>strokeStyle</code>, <code>fillStyle</code>, <code>globalAlpha</code>, <code>lineWidth</code>, <code>lineCap</code>, <code>lineJoin</code>, <code>miterLimit</code>, <code>shadowOffsetX</code>, <code>shadowOffsetY</code>, <code>shadowBlur</code>, <code>shadowColor</code>, <code>globalCompositeOperation 的值</code></li> <li>当前的裁切路径（<code>clipping path</code>）</li></ul></li> <li><p>关于 save() ：Canvas状态存储在栈中，每当save()方法被调用后，当前的状态就被推送到栈中保存。可以调用任意多次 save方法(类似数组的 push())。</p></li> <li><p>关于restore()：每一次调用 restore 方法，上一个保存的状态就从栈中弹出，所有设定都恢复(类似数组的 pop())。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 使用默认设置绘制一个矩形</span>
      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 保存默认状态</span>

      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>       <span class="token comment">// 在原有配置基础上对颜色做改变</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用新的设置绘制一个矩形</span>

      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 保存当前状态</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#FFF'</span>       <span class="token comment">// 再次改变颜色配置</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 使用新的配置绘制一个矩形</span>

      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 重新加载之前的颜色状态</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 使用上一次的配置绘制一个矩形</span>

      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 加载默认颜色配置</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 使用加载的配置绘制一个矩形</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930174436581.png" alt="image-20220930174436581"></p></li></ol> <h2 id="变形"><a href="#变形" class="header-anchor">#</a> 变形</h2> <h3 id="translate"><a href="#translate" class="header-anchor">#</a> translate</h3> <p>translate() 方法重新映射画布上的 (0,0) 位置。<code>translate</code> 方法接受两个参数。<code>x</code> 是左右偏移量，<code>y</code> 是上下偏移量。</p> <p><img src="https://www.runoob.com/wp-content/uploads/2018/12/829832336-5b74dd8e3ad9a_articlex.png" alt="img"></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221008180307573.png" alt="image-20221008180307573"></p> <p><strong>注意</strong>：在做变形之前先保存状态是一个良好的习惯。大多数情况下，调用 <code>restore</code> 方法比手动恢复原先的状态要简单得多。又如果你是在一个循环中做位移但没有保存和恢复 <code>canvas</code> 的状态，很可能到最后会发现怎么有些东西不见了，那是因为它很可能已经超出 <code>canvas</code> 范围以外了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存坐原点平移之前的状态</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//恢复到最初状态</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221008181011952.png" alt="image-20221008181011952"></p> <h3 id="rotate"><a href="#rotate" class="header-anchor">#</a> rotate</h3> <p>rotate() 方法旋转当前的绘图。这个方法只接受一个参数：旋转的角度(angle)，它是顺时针方向的，以弧度为单位的值。旋转的中心是坐标原点。</p> <p>**注意：**旋转只会影响到旋转完成后的绘图。</p> <p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3322150878-5b74dd8e2b6a4_articlex.png" alt="img"></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token operator">*</span><span class="token number">45</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221008181547556.png" alt="image-20221008181547556"></p> <h3 id="scale"><a href="#scale" class="header-anchor">#</a> scale</h3> <p>scale() 方法缩放当前绘图至更大或更小。<code>scale</code>方法接受两个参数。<code>x,y</code> 分别是横轴和纵轴的缩放因子，它们都必须是正值。值比 1.0 小表示缩 小，比 1.0 大则表示放大。</p> <p>**注意：**如果您对绘图进行缩放，所有之后的绘图也会被缩放。定位也会被缩放。如果您 scale(2,2)，那么绘图将定位于距离画布左上角两倍远的位置。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221008182152093.png" alt="image-20221008182152093"></p> <h3 id="transform"><a href="#transform" class="header-anchor">#</a> transform</h3> <p>画布上的每个对象都拥有一个当前的变换矩阵。transform() 方法替换当前的变换矩阵。它以下面描述的矩阵来操作当前的变换矩阵：</p> <p>a ce</p> <p>b df</p> <p>0 01</p> <p>换句话说，transform() 允许您缩放、旋转、移动并倾斜当前的环境。</p> <p>这里面会有b水平倾斜绘图与c垂直倾斜绘图这两个参数，但是却没有设置旋转的参数。矩阵实际上也是通过b和c来实现旋转的，但其实际的意义是x与y轴的倾斜。也是css3中transform的skew属性，canvas转换矩阵通过对xy轴同步倾斜来实现旋转，如果xy倾斜不同步则会导致图像失真的情况</p> <table><thead><tr><th style="text-align:left;">参数</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;"><em>a</em></td> <td style="text-align:left;">水平缩放绘图。</td></tr> <tr><td style="text-align:left;"><em>b</em></td> <td style="text-align:left;">水平倾斜绘图。</td></tr> <tr><td style="text-align:left;"><em>c</em></td> <td style="text-align:left;">垂直倾斜绘图。</td></tr> <tr><td style="text-align:left;"><em>d</em></td> <td style="text-align:left;">垂直缩放绘图。</td></tr> <tr><td style="text-align:left;"><em>e</em></td> <td style="text-align:left;">水平移动绘图。</td></tr> <tr><td style="text-align:left;"><em>f</em></td> <td style="text-align:left;">垂直移动绘图。</td></tr></tbody></table> <p>**注意：**该变换只会影响 transform() 方法调用之后的绘图。</p> <p>**注意：**transform() 方法的行为相对于由 rotate()、scale()、translate() 或 transform() 完成的其他变换。 例如：如果您已经将绘图设置为放到两倍，则 transform() 方法会把绘图放大两倍，您的绘图最终将放大四倍。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> row <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      <span class="token comment">// 检测支持性</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span> 
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#ff6600&quot;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#66ff00&quot;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#0066ff'</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221008184243034.png" alt="image-20221008184243034"></p> <h2 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h2> <h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <h4 id="柱状图示例"><a href="#柱状图示例" class="header-anchor">#</a> 柱状图示例</h4> <p>HTML:</p> <div class="language-HTML extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mycanvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>450<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>250<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>js:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> mycanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;mycanvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        data <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Mon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Wed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Thu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fri&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sun&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//x轴的标题</span>
          <span class="token literal-property property">dataSets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token literal-property property">values</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//对应标签的值</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token function">barChart</span><span class="token punctuation">(</span>mycanvas<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//画柱状图</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//数组sort()排序传的参数为该函数（降序排列）</span>
    <span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value2 <span class="token operator">-</span> value1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*柱状图
    * mycanvas:要操作的画布元素
    * data:所需格式的数据*/</span>
    <span class="token keyword">function</span> <span class="token function">barChart</span><span class="token punctuation">(</span><span class="token parameter">mycanvas<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mycanvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> mycanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mywidth <span class="token operator">=</span> mycanvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token comment">//画布的宽高</span>
        myheight <span class="token operator">=</span> mycanvas<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
        labels <span class="token operator">=</span> data<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token comment">//矩形对应标题</span>
        len <span class="token operator">=</span> labels<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token comment">//标签/数据个数 </span>
        bheight <span class="token operator">=</span> myheight <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//边框高度</span>
        bWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mywidth <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">/</span> len<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//柱状矩形宽度 </span>
        values <span class="token operator">=</span> data<span class="token punctuation">.</span>dataSets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span> <span class="token comment">//绘图的值</span>
        sortValues <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//基于当前数组中的一个或多个项创建一个新数组（解决了该数组排序原数组也被排序的问题）</span>
      serialValues <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//用于存储序列化后的值</span>
      sortValues<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>sortValues<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> bheight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//数值超过边框高度时序列化值</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            serialValues<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> bheight <span class="token operator">/</span> sortValues<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//绘制边框</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//要绘制路径，必须先调用该方法，表示开始绘制新路径</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> myheight <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>mywidth <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">,</span> myheight <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//把图形绘制到画布上</span>
      <span class="token comment">//绘制矩形，组成条形图</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(255,99,0,0.5)&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制文字</span>
      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;14px microsoft yahei&quot;</span><span class="token punctuation">;</span> <span class="token comment">//字体样式、大小、字体</span>
      ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span> <span class="token comment">//文本对齐方式</span>
      ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">;</span> <span class="token comment">//文本的基线</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token punctuation">(</span>bWidth <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          y <span class="token operator">=</span> myheight <span class="token operator">-</span> serialValues<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">,</span>
          x1 <span class="token operator">=</span> x <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>bWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        y1 <span class="token operator">=</span> myheight <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span>
          y2 <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> bWidth<span class="token punctuation">,</span> serialValues<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x,y,width,height单位都为px</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>labels<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绘制标题文字</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绘制柱状图数据</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;订单总数（个）&quot;</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x轴代表什么</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;星期几&quot;</span><span class="token punctuation">,</span> mywidth <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">,</span> myheight <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//y轴代表什么</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930135944443.png" alt="image-20220930135944443"></p> <h4 id="折线图示例"><a href="#折线图示例" class="header-anchor">#</a> 折线图示例</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mycanvas'</span><span class="token punctuation">)</span>
      datas <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">labels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Mon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Wed&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Thu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fri&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sun&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//标签</span>
        <span class="token literal-property property">values</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//值</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">lineChart</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> datas<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画折线图</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">lineChart</span><span class="token punctuation">(</span><span class="token parameter">canvas<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        labels <span class="token operator">=</span> data<span class="token punctuation">.</span>labels<span class="token punctuation">,</span><span class="token comment">//数值对应标签</span>
        values <span class="token operator">=</span> data<span class="token punctuation">.</span>values<span class="token punctuation">,</span><span class="token comment">//数值</span>
        len <span class="token operator">=</span> labels<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token comment">//标签/数值个数</span>
        elemWidth <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span><span class="token comment">//画布宽度</span>
        elemHeight <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">,</span><span class="token comment">//画布高度</span>
        gridHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>elemHeight <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//每行之间高度 Math.ceil向上取整  50</span>
        gridWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>elemWidth <span class="token operator">/</span> len<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//每列之间看度  Math.floor向下取整 64</span>
        actualHeight <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> gridHeight <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//绘制区域实际高度</span>
      <span class="token comment">//设置绘制直线的属性</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#c0c0c0&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token comment">//设置绘制文本的属性</span>
      ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;14px microsoft yahei&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>txtbaseline <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制背景</span>
      <span class="token comment">//绘制背景横线</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> hgridY <span class="token operator">=</span> gridHeight <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span>
          hgridX <span class="token operator">=</span> gridWidth <span class="token operator">*</span> len<span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> hgridY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>hgridX<span class="token punctuation">,</span> hgridY<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">//绘制背景的竖线，表示每个label</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> vgridX <span class="token operator">=</span> gridWidth <span class="token operator">*</span> j<span class="token punctuation">,</span>
          vgridY <span class="token operator">=</span> actualHeight<span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>vgridX<span class="token punctuation">,</span> vgridY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>vgridX<span class="token punctuation">,</span> vgridY <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制标签文字</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> txtX <span class="token operator">=</span> gridWidth <span class="token operator">*</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          txtY <span class="token operator">=</span> actualHeight <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>labels<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> txtX<span class="token punctuation">,</span> txtY<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


      <span class="token comment">//获取画图数据的最大值用于序列换数据</span>
      <span class="token keyword">let</span> maxValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        cData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>values<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> maxValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          maxValue <span class="token operator">=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//当最大值大于画布可绘制区域的高度时，对数据进行转化，然后进行画图</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> gridHeight<span class="token punctuation">)</span> <span class="token operator">&lt;</span> maxValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//转换后的数据</span>
          cData<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">*</span> gridHeight <span class="token operator">/</span> maxValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        cData <span class="token operator">=</span> values<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//绘制折线</span>
      ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> pointX <span class="token operator">=</span> gridWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
        pointY <span class="token operator">=</span> actualHeight <span class="token operator">-</span> cData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>pointX<span class="token punctuation">,</span> pointY<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pointX <span class="token operator">+=</span> gridWidth<span class="token punctuation">;</span>
        pointY <span class="token operator">=</span> actualHeight <span class="token operator">-</span> cData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>pointX<span class="token punctuation">,</span> pointY<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制坐标圆形</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#ff9900&quot;</span><span class="token punctuation">;</span> <span class="token comment">//圆点的颜色</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> circleX <span class="token operator">=</span> gridWidth <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> gridWidth <span class="token operator">*</span> i<span class="token punctuation">,</span>
          circleY <span class="token operator">=</span> actualHeight <span class="token operator">-</span> cData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>circleX<span class="token punctuation">,</span> circleY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//假如不每次绘制之前确定开始绘制新路径，可以每次绘制之前移动到新的圆心</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>circleX<span class="token punctuation">,</span> circleY<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制坐标圆形对应的值</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">;</span> <span class="token comment">//文本颜色</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> circleX <span class="token operator">=</span> gridWidth <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> gridWidth <span class="token operator">*</span> i<span class="token punctuation">,</span>
          circleY <span class="token operator">=</span> actualHeight <span class="token operator">-</span> cData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> circleX<span class="token punctuation">,</span> circleY <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//绘制y轴代表什么</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;完成件数（个）&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930142933076.png" alt="image-20220930142933076"></p> <h4 id="饼状图示例"><a href="#饼状图示例" class="header-anchor">#</a> 饼状图示例</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> mycanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;mycanvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        datasets <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;#5470c6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#91cc75&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#fac858&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#ee6666&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#73c0de&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//颜色</span>
          <span class="token literal-property property">labels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;第一周&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第二周&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第三周&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第四周&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第五周&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//标签</span>
          <span class="token literal-property property">values</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//值</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token function">pieChart</span><span class="token punctuation">(</span>mycanvas<span class="token punctuation">,</span> datasets<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//画饼状图</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">pieChart</span><span class="token punctuation">(</span><span class="token parameter">mycanvas<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mycanvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">let</span> ctx <span class="token operator">=</span> mycanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        vdata <span class="token operator">=</span> data<span class="token punctuation">.</span>values<span class="token punctuation">,</span> <span class="token comment">//绘图数据</span>
        sum <span class="token operator">=</span> <span class="token function">sumFunc</span><span class="token punctuation">(</span>vdata<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//对绘图数据求和，用于计算百分比</span>
        startangle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//绘制扇形的开始角度</span>
        labels <span class="token operator">=</span> data<span class="token punctuation">.</span>labels<span class="token punctuation">,</span> <span class="token comment">//绘图的对应文字</span>
        x1 <span class="token operator">=</span> <span class="token number">125</span> <span class="token operator">+</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//绘制右侧文字和标注的x坐标</span>
        y1 <span class="token operator">=</span> <span class="token number">125</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">//绘制右侧文字和标注的y坐标</span>
        endangle<span class="token punctuation">;</span> <span class="token comment">//绘制扇形的结束角度</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vdata<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//绘制饼图</span>
        <span class="token comment">//计算下一次绘制扇形的结束角度，即根据绘制数据占有总数据和的比例求的弧度</span>
        <span class="token keyword">let</span> percent <span class="token operator">=</span> vdata<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> sum<span class="token punctuation">;</span>
        endangle <span class="token operator">=</span> startangle <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>percent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//开始绘制新路径</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> data<span class="token punctuation">.</span>colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//绘制颜色</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//移动到圆心(注：画饼图一定要回到圆心，不然会有问题)</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> startangle<span class="token punctuation">,</span> endangle<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//画扇形</span>
        <span class="token comment">//绘制右侧文字和标注</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//移动到绘制文字和标注的位置</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绘制矩形表示比列图</span>
        <span class="token comment">//计算四舍五入后的扇形每份的百分比</span>
        <span class="token keyword">let</span> perc <span class="token operator">=</span> <span class="token punctuation">(</span>percent <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span> <span class="token comment">//tofixed()自动四舍五入返回指定小数位数的字符串</span>
        <span class="token comment">//设置绘制文字的属性</span>
        ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold 12px microsoft yahei&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>txtalgin <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//绘制文字</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>labels<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> perc<span class="token punctuation">,</span> x1 <span class="token operator">+</span> <span class="token number">35</span><span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//指定颜色填充以上绘制</span>
        startangle <span class="token operator">=</span> endangle<span class="token punctuation">;</span> <span class="token comment">//下一次绘制扇形的开始角度</span>
        y1 <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//下一次绘制文字和标注的y坐标</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">sumFunc</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>页面展示：</p> <p><img src="C:%5CUsers%5Chanfuping%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220930144550999.png" alt="image-20220930144550999"></p></div></article> <div class="main-div vssue"><!----></div></div></main> <aside class="aside" data-v-b3fda33c data-v-b3fda33c><div class="info-card main-div" data-v-1311ce9e data-v-b3fda33c><div class="info-card-header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/head.png);" data-v-1311ce9e><img src="/head.png" alt="TheOtherOne" class="info-avatar" data-v-1311ce9e></div> <div class="info-card-body" data-v-1311ce9e><section class="info-name" data-v-1311ce9e>
      TheOtherOne
    </section> <section class="info-desc" data-v-1311ce9e>In me the tiger sniffs the rose<br/>心有猛虎，细嗅蔷薇</section> <section class="info-contact" data-v-1311ce9e><section data-v-1311ce9e><span data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:1em;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-location" data-v-1311ce9e data-v-1311ce9e></use></svg><span class="info-text" data-v-1311ce9e data-v-1311ce9e>
          Beijing, China
        </span></span></section> <!----> <section data-v-1311ce9e><span data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:1em;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-email" data-v-1311ce9e data-v-1311ce9e></use></svg><span class="info-text" data-v-1311ce9e data-v-1311ce9e>
          h1306979892@163.com
        </span></span></section></section></div> <div class="info-card-footer" data-v-1311ce9e><p class="footer-sns-link" data-v-1311ce9e><a target="_blank" href="https://blog.csdn.net/weixin_44002432" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-csdn" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a><a target="_blank" href="https://weibo.com/u/5656925978" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-weibo" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a><a target="_blank" href="https://juejin.im/user/3843548382238791" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-juejin" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a><a target="_blank" href="https://www.zhihu.com/people/sheng-tang-de-xing-kong" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-zhihu" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a><a target="_blank" href="https://github.com/youdeliang" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-github" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a></p></div></div> <div class="post-toc main-div aside-toc" style="position:relative;top:0;width:0px;" data-v-b3fda33c><h4>- CATALOG</h4> <div class="post-nav-toc"><ul><li><a href="/docs/posts/2022/10/09/canvas.html#基本使用">基本使用</a><ul><li><a href="/docs/posts/2022/10/09/canvas.html#创建画布">创建画布</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#渲染上下文">渲染上下文</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#支持性">支持性</a></li></ul></li><li><a href="/docs/posts/2022/10/09/canvas.html#栅格和坐标空间">栅格和坐标空间</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制形状">绘制形状</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制形状-2">绘制形状</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制路径">绘制路径</a><ul><li><a href="/docs/posts/2022/10/09/canvas.html#绘制线段">绘制线段</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制三角形边框">绘制三角形边框</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制填充三角形">绘制填充三角形</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制圆弧">绘制圆弧</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制贝塞尔曲线">绘制贝塞尔曲线</a></li></ul></li><li><a href="/docs/posts/2022/10/09/canvas.html#添加样式">添加样式</a><ul><li><a href="/docs/posts/2022/10/09/canvas.html#颜色、样式、阴影">颜色、样式、阴影</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#线条样式">线条样式</a></li></ul></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制文本">绘制文本</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#添加文本样式">添加文本样式</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制图片">绘制图片</a><ul><li><a href="/docs/posts/2022/10/09/canvas.html#创建图片">创建图片</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#绘制img">绘制img</a></li></ul></li><li><a href="/docs/posts/2022/10/09/canvas.html#状态的保存与恢复">状态的保存与恢复</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#变形">变形</a><ul><li><a href="/docs/posts/2022/10/09/canvas.html#translate">translate</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#rotate">rotate</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#scale">scale</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#transform">transform</a></li></ul></li><li><a href="/docs/posts/2022/10/09/canvas.html#动画">动画</a></li><li><a href="/docs/posts/2022/10/09/canvas.html#示例">示例</a></li></ul></div></div></aside></div> <footer class="footer" data-v-7f2e4136><p class="footer-sns-link"><a target="_blank" href="https://blog.csdn.net/weixin_44002432" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-csdn"></use></svg></span></a><a target="_blank" href="https://weibo.com/u/5656925978" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-weibo"></use></svg></span></a><a target="_blank" href="https://juejin.im/user/3843548382238791" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-juejin"></use></svg></span></a><a target="_blank" href="https://www.zhihu.com/people/sheng-tang-de-xing-kong" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-zhihu"></use></svg></span></a><a target="_blank" href="https://github.com/youdeliang" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-github"></use></svg></span></a></p> <div class="copyright"><span id="custom">Copyright &copy; Top Blog 2020 <br /> 
        Theme By <a href="https://www.vuepress.cn/" target="_blank">VuePress</a>
        | <a href="https://www.github.com/youdeliang/" target="_blank">youdeliang</a></span> <iframe src="https://ghbtns.com/github-btn.html?user=youdeliang&amp;repo=vuepress-theme-top&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="80px" height="20px" class="footer-btn" style="margin-left: 2px; margin-bottom:-5px;"></iframe></div></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.379f41b2.js" defer></script><script src="/docs/assets/js/6.d6a78384.js" defer></script><script src="/docs/assets/js/7.58525a04.js" defer></script>
  </body>
</html>
